# 공학용 전자계산기 웹앱 PRD (Product Requirements Document)

## 1. 프로젝트 개요

### 1.1 프로젝트 목적
모던하고 직관적인 UI/UX를 갖춘 공학용 전자계산기 웹 애플리케이션을 개발하여 사용자에게 프리미엄 계산 경험을 제공합니다.

### 1.2 목표 사용자
- 학생 (중/고등학생, 대학생)
- 엔지니어 및 과학 연구원
- 일반 사용자 (기본 계산 필요)
- 모바일 및 데스크톱 사용자

### 1.3 핵심 가치 제안
- **프리미엄 디자인**: 다크/라이트 모드를 지원하는 현대적인 UI
- **직관적 UX**: 터치 친화적인 인터페이스와 부드러운 애니메이션
- **다기능성**: 기본 계산부터 공학용 계산까지 지원
- **반응형**: 모바일 우선 설계로 모든 디바이스에서 최적화

---

## 2. 기능 요구사항

### 2.1 계산 모드

#### 2.1.1 Standard 모드 (기본 계산기)
**우선순위**: P0 (필수)

**기능**:
- 사칙연산 (+, -, ×, ÷)
- 퍼센트 계산 (%)
- 부호 변경 (+/-)
- 전체 지우기 (AC)
- 소수점 계산

**입력 방식**:
- 터치/클릭 입력
- 키보드 입력 지원

#### 2.1.2 Scientific 모드 (공학용 계산기)
**우선순위**: P0 (필수)

**기능**:
- 삼각함수 (sin, cos, tan, asin, acos, atan)
- 로그 함수 (log, ln)
- 지수 함수 (x², x³, xʸ, eˣ, 10ˣ)
- 제곱근 및 n제곱근 (√, ∛, ⁿ√)
- 팩토리얼 (n!)
- 괄호 연산
- 상수 (π, e)
- 각도 단위 전환 (DEG/RAD/GRAD)

**UI 전환**:
- 하단 드래그 제스처로 Scientific 모드 확장
- 또는 버튼 클릭으로 모드 전환

### 2.2 디스플레이 기능

#### 2.2.1 계산 표시
**우선순위**: P0 (필수)

- **현재 결과**: 대형 폰트로 명확하게 표시 (4-5rem)
- **계산식 히스토리**: 작은 폰트로 상단에 표시
- **천 단위 구분**: 숫자 가독성을 위한 콤마 표시 (예: 1,234)
- **실시간 계산**: 입력 중 미리보기 표시

#### 2.2.2 애니메이션
**우선순위**: P1 (중요)

- 숫자 입력 시 페이드인 효과
- 버튼 클릭 시 스케일 애니메이션 (active:scale-95)
- 결과 계산 시 부드러운 전환 효과

### 2.3 히스토리 기능
**우선순위**: P1 (중요)

- 최근 계산 기록 저장 (최대 50개)
- 히스토리 버튼 클릭 시 사이드 패널 표시
- 이전 계산 재사용 기능
- 히스토리 개별 삭제 및 전체 삭제

### 2.4 설정 및 커스터마이징
**우선순위**: P2 (선택)

- 다크/라이트 모드 자동 전환 (시스템 설정 따름)
- 수동 테마 전환 옵션
- 소리 효과 on/off
- 햅틱 피드백 on/off (모바일)

---

## 3. UI/UX 디자인 사양

### 3.1 디자인 시스템

#### 3.1.1 컬러 팔레트

**라이트 모드**:
```
- Primary: #135bec (파란색)
- Primary Hover: #1d4ed8
- Background: #f6f6f8 (연한 회색)
- Surface: #E2E8F0
- Number Keys: #ffffff (흰색)
- Function Keys: #e2e8f0 (연한 회색)
- Text Primary: #1e293b (진한 회색)
- Text Secondary: #64748b
```

**다크 모드**:
```
- Primary: #135bec (파란색)
- Primary Hover: #1d4ed8
- Background: #101622 (진한 네이비)
- Surface: #1C2533
- Number Keys: #1C2533
- Function Keys: #2E3A52
- Operator Keys: #1C2533
- Text Primary: #ffffff
- Text Secondary: #94a3b8
- Accent: #22d3ee (시안)
```

#### 3.1.2 타이포그래피

**폰트 패밀리**: Inter (Google Fonts)
- Display: Inter, sans-serif

**폰트 크기**:
- 결과 표시: 4rem (모바일) / 5rem (데스크톱)
- 계산식: 1.25rem / 1.5rem
- 버튼 텍스트: 1.25rem
- 모드 표시: 0.875rem

**폰트 무게**:
- Light: 300
- Regular: 400
- Medium: 500
- Semibold: 600
- Bold: 700

#### 3.1.3 간격 및 레이아웃

**버튼 크기**:
- 높이: 4rem (모바일) / 5rem (데스크톱)
- 간격: 0.75rem (gap-3)
- 둥근 모서리: 1rem (rounded-2xl)

**패딩**:
- 헤더: px-5, pt-6, pb-2
- 디스플레이 영역: px-6, pb-6, pt-10
- 키패드 영역: p-5, pb-8

**그리드 레이아웃**:
- 4열 그리드 (grid-cols-4)
- 0 버튼: 2칸 차지 (col-span-2)

#### 3.1.4 아이콘

**Material Symbols Outlined** 사용:
- `grid_view`: 메뉴/모드 선택
- `history`: 히스토리
- `exposure`: +/- 부호 변경
- `percent`: 퍼센트
- `close`: 곱하기
- `remove`: 빼기
- `add`: 더하기
- `equal`: 같음

### 3.2 레이아웃 구조

```
┌─────────────────────────────────┐
│  Header (Navigation Bar)        │
│  [Menu] [Standard▼] [History]   │
├─────────────────────────────────┤
│                                 │
│  Display Area                   │
│  1,234 + 56    (계산식)         │
│  1,290         (결과)           │
│                                 │
├─────────────────────────────────┤
│  Keypad Area                    │
│  ┌───────────────────────────┐  │
│  │  [AC] [+/-] [%]  [÷]     │  │
│  │  [7]  [8]   [9]  [×]     │  │
│  │  [4]  [5]   [6]  [-]     │  │
│  │  [1]  [2]   [3]  [+]     │  │
│  │  [0  0]     [.]  [=]     │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
```

### 3.3 인터랙션 디자인

#### 3.3.1 버튼 상태
- **Default**: 기본 배경색
- **Hover**: 약간 어두운 배경 (데스크톱)
- **Active**: scale-95 애니메이션 + 투명도 80%
- **Disabled**: 50% 투명도

#### 3.3.2 제스처
- **탭**: 버튼 입력
- **스와이프 업**: Scientific 모드 전환 (키패드 영역에서)
- **스와이프 다운**: Standard 모드로 복귀
- **스와이프 왼쪽**: 숫자 한 자리 삭제 (디스플레이 영역에서)

#### 3.3.3 애니메이션
- **버튼 클릭**: 100ms duration, scale-95
- **숫자 변경**: 500ms fadeIn
- **모드 전환**: 300ms slide-up/down
- **테마 전환**: 200ms transition-colors

---

## 4. 기술 요구사항

### 4.1 프론트엔드 기술 스택

**필수 기술**:
- HTML5
- CSS3 (Vanilla CSS 또는 Tailwind CSS)
- JavaScript (ES6+)

**권장 프레임워크** (선택):
- React.js (컴포넌트 재사용성)
- Next.js (SEO 최적화)
- Vite (빠른 개발 환경)

**라이브러리**:
- Math.js 또는 자체 계산 엔진
- Google Fonts (Inter)
- Material Symbols

### 4.2 반응형 디자인

**브레이크포인트**:
- Mobile: 320px - 767px (기본)
- Tablet: 768px - 1023px
- Desktop: 1024px+

**최대 너비**: 448px (max-w-md) - 모바일 앱 느낌

### 4.3 브라우저 지원

**필수 지원**:
- Chrome 90+
- Safari 14+
- Firefox 88+
- Edge 90+

**모바일 브라우저**:
- iOS Safari 14+
- Chrome Mobile 90+
- Samsung Internet 14+

### 4.4 성능 요구사항

- **초기 로딩 시간**: < 2초
- **버튼 응답 시간**: < 100ms
- **계산 처리 시간**: < 50ms
- **애니메이션 FPS**: 60fps

### 4.5 접근성 (Accessibility)

**WCAG 2.1 AA 준수**:
- 키보드 네비게이션 지원
- 스크린 리더 지원 (ARIA 레이블)
- 색상 대비 비율 4.5:1 이상
- 포커스 인디케이터 명확히 표시

---

## 5. 데이터 관리

### 5.1 로컬 스토리지

**저장 항목**:
- 계산 히스토리 (최대 50개)
- 테마 설정 (다크/라이트)
- 각도 단위 설정 (DEG/RAD/GRAD)
- 사운드/햅틱 설정

**데이터 구조**:
```javascript
{
  history: [
    {
      id: "uuid",
      expression: "1234 + 56",
      result: "1290",
      timestamp: "2025-12-23T16:00:00Z"
    }
  ],
  settings: {
    theme: "dark",
    angleUnit: "DEG",
    soundEnabled: true,
    hapticEnabled: true
  }
}
```

### 5.2 상태 관리

**계산기 상태**:
- currentValue: 현재 입력/결과 값
- previousValue: 이전 값
- operator: 현재 연산자
- expression: 계산식 문자열
- mode: "standard" | "scientific"
- angleUnit: "DEG" | "RAD" | "GRAD"

---

## 6. 계산 로직 요구사항

### 6.1 기본 연산

**정확도**:
- 소수점 15자리까지 정확도 유지
- 부동소수점 오류 방지 처리

**오버플로우 처리**:
- 최대값: 9.999999999999999e+308
- 최소값: -9.999999999999999e+308
- 오버플로우 시 "Error" 표시

### 6.2 공학용 연산

**삼각함수**:
- 각도 단위에 따른 자동 변환
- 역삼각함수 결과 범위 제한

**로그 함수**:
- 음수 입력 시 "Error" 표시
- log(0) = "Error"

**지수 함수**:
- 0^0 = 1 (수학적 관례)
- 음수의 짝수 제곱근 = "Error"

### 6.3 에러 처리

**에러 유형**:
- Division by zero: "Cannot divide by 0"
- Invalid input: "Error"
- Overflow: "Overflow"
- Syntax error: "Syntax Error"

---

## 7. 테스트 요구사항

### 7.1 단위 테스트 (자동화)

**테스트 대상** (코어 로직만):
- 모든 계산 함수 (사칙연산, 공학용 함수)
- 입력 파싱 로직
- 에러 처리 로직
- 스토리지 관리 (히스토리, 설정)
- 유틸리티 함수

**테스트 커버리지**: 최소 90% (코어 로직)

**제외 대상**:
- UI 컴포넌트 (수동 테스트로 검증)
- DOM 조작
- 이벤트 핸들러
- 애니메이션

### 7.2 통합 테스트 (자동화)

**시나리오** (코어 로직 통합):
- 연속 계산 시나리오
- 모드 전환 로직
- 히스토리 저장/불러오기
- 설정 관리

### 7.3 UI 테스트 (수동)

**수동 테스트 항목**:
1. 기본 계산 (1+1=2)
2. 복잡한 계산 (123×456+789)
3. 공학용 계산 (sin(30°))
4. 히스토리 사용
5. 테마 전환
6. 키보드 입력
7. 버튼 애니메이션
8. 반응형 레이아웃

**참고**: UI 자동화 테스트(E2E)는 구현하지 않습니다.

### 7.4 크로스 브라우저 테스트 (수동)

**테스트 환경**:
- Chrome (Windows, Mac, Android)
- Safari (Mac, iOS)
- Firefox (Windows, Mac)
- Edge (Windows)

---

## 8. 배포 및 운영

### 8.1 배포 환경

**호스팅 플랫폼**:
- **GitHub Pages** (선택됨)
  - 무료 호스팅
  - GitHub Actions 통합
  - 자동 HTTPS
  - 커스텀 도메인 지원

### 8.2 CI/CD

**자동화 플랫폼**: GitHub Actions

**파이프라인 단계**:
- 코드 푸시 시 자동 빌드
- Lint 및 코드 품질 검사
- 테스트 자동 실행
- GitHub Pages 자동 배포 (main 브랜치)

### 8.3 모니터링

**추적 지표**:
- 페이지 로드 시간
- 버튼 클릭 응답 시간
- 에러 발생 빈도
- 사용자 세션 길이

---

## 9. 향후 확장 계획

### Phase 2 (선택 기능)
- 단위 변환기 (길이, 무게, 온도 등)
- 통화 변환기 (실시간 환율)
- 그래프 계산기 (함수 그래프 그리기)
- 방정식 풀이

### Phase 3 (고급 기능)
- 다국어 지원 (한국어, 영어, 일본어, 중국어)
- 클라우드 동기화 (계산 히스토리)
- PWA (Progressive Web App) 지원
- 오프라인 모드

---

## 10. 성공 지표 (KPI)

### 10.1 사용자 경험
- 평균 세션 시간: > 3분
- 재방문율: > 40%
- 이탈률: < 30%

### 10.2 기술 성능
- Lighthouse 점수: > 90점
- Core Web Vitals 통과
- 에러율: < 0.1%

### 10.3 비즈니스 목표
- 월간 활성 사용자(MAU): 1,000명 (3개월 내)
- 사용자 만족도: 4.5/5.0 이상

---

## 11. 프로젝트 일정

### Phase 1: 기본 계산기 (2주)
- Week 1: UI 구현 + 기본 연산
- Week 2: 테스트 + 버그 수정

### Phase 2: 공학용 기능 (2주)
- Week 3: Scientific 모드 UI + 함수 구현
- Week 4: 히스토리 + 설정 기능

### Phase 3: 최적화 및 배포 (1주)
- Week 5: 성능 최적화 + 배포

**총 예상 기간**: 5주

---

## 12. 리스크 및 대응 방안

| 리스크 | 영향도 | 대응 방안 |
|--------|--------|-----------|
| 부동소수점 정확도 문제 | 높음 | Math.js 라이브러리 사용 또는 Decimal.js |
| 크로스 브라우저 호환성 | 중간 | Babel + Polyfill 사용 |
| 성능 저하 (복잡한 계산) | 중간 | Web Worker로 계산 로직 분리 |
| 모바일 터치 반응성 | 낮음 | 터치 이벤트 최적화 |

---

## 13. 참고 자료

### 디자인 레퍼런스
- 제공된 디자인 파일: `screen.png`, `code.html`
- Material Design Calculator Guidelines
- iOS Calculator App

### 기술 문서
- [Math.js Documentation](https://mathjs.org/)
- [Tailwind CSS Docs](https://tailwindcss.com/)
- [Material Symbols](https://fonts.google.com/icons)

---

## 부록: 키보드 단축키

| 키 | 기능 |
|----|------|
| 0-9 | 숫자 입력 |
| + | 더하기 |
| - | 빼기 |
| * | 곱하기 |
| / | 나누기 |
| Enter | 계산 실행 |
| Escape | 전체 지우기 |
| Backspace | 한 자리 삭제 |
| % | 퍼센트 |
| . | 소수점 |
| ( ) | 괄호 |

---

**문서 버전**: 1.0  
**작성일**: 2025-12-23  
**작성자**: Antigravity AI  
**승인 상태**: Draft
